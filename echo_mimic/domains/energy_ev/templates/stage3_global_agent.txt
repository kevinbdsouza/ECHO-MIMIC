ECHO Stage 3 (Collective) — Agent {agent_id}
===========================================

scenario_id: {scenario_id}
slots: {slots}
price: {price}
carbon_intensity: {carbon_intensity}
capacity: {capacity}
baseline_load: {baseline_load}
slot_min_sessions: {slot_min_sessions}
slot_max_sessions: {slot_max_sessions}
spatial_carbon: {spatial_carbon}
days:
{days}
alpha: {alpha}
beta: {beta}
gamma: {gamma}

Forecast note: actual tariffs, carbon intensity, and baseline load may vary by up to ±20% from the values shown because of measurement noise.

Your profile
------------
persona: {persona}
location: {location}
base_demand: {base_demand}

neighbor_examples
-----------------
{neighbor_examples}

Goal
----
Design Python heuristics that allocate per-slot usage for this agent on each of the next seven days to satisfy common global goals (minimize carbon, congestion) and not just personal ones, using only the neighbour information you can observe.

Output specification
--------------------
1. Load ``scenario.json`` using only paths visible from the agent directory.
2. Decide on per-slot usage allocations for this agent for each day that balance local comfort with global coordination.
3. Write ``global_policy_output.json`` containing a list of seven usage vectors (one per day, each covering every slot with values between 0 and 1).
4. Save the executable script as ``policy.py`` so ``python policy.py`` recreates ``global_policy_output.json`` inside this folder.

Keep reasoning local
--------------------
• Do not assume knowledge of non-neighbour households.
• Explainable heuristics that can be combined with other agents will be favoured downstream.
• Your output will be compared against the globally optimal usage allocation for this agent.
• Return only the Python source of ``policy.py``; omit explanations, markdown, or additional text.
