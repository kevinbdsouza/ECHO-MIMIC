ECHO Stage 3 (Collective) — Agent 4
===========================================

Scenario id: ev_peak_sharing_1
Slots (index → hour): 0: 19-20, 1: 20-21, 2: 21-22, 3: 22-23
Feeder capacity: 6.8
Baseline load: 5.2, 5.0, 4.9, 6.5
Carbon intensity: 700, 480, 500, 750
Minimum EV sessions per slot: 0: 1, 1: 1, 2: 1, 3: 1
Maximum EV sessions per slot: 0: 2, 1: 2, 2: 1, 3: 2
Spatial carbon gradient (location → gCO2/kWh): 1: 440, 460, 490, 604 | 2: 483, 431, 471, 600 | 3: 503, 473, 471, 577 | 4: 617, 549, 479, 363 | 5: 411, 376, 554, 623
7-day feeder outlook:
  Day 1 (Day 1 — Clear start to the week with feeders expecting full-slot coverage.)
    Tariff: 0.20, 0.25, 0.29, 0.32
    Carbon: 490, 470, 495, 540
    Baseline load: 5.3, 5.0, 4.8, 6.5
    Spatial carbon: 1: 330, 520, 560, 610; 2: 550, 340, 520, 600; 3: 590, 520, 340, 630; 4: 620, 560, 500, 330; 5: 360, 380, 560, 620
  Day 2 (Day 2 — Evening wind ramps mean slots 0 and 3 must balance transformer temps.)
    Tariff: 0.27, 0.22, 0.24, 0.31
    Carbon: 485, 460, 500, 545
    Baseline load: 5.1, 5.2, 4.9, 6.6
    Spatial carbon: 1: 510, 330, 550, 600; 2: 540, 500, 320, 610; 3: 310, 520, 550, 630; 4: 620, 540, 500, 340; 5: 320, 410, 560, 640
  Day 3 (Day 3 — Marine layer shifts low-carbon pocket to the early slots.)
    Tariff: 0.24, 0.21, 0.26, 0.30
    Carbon: 500, 455, 505, 550
    Baseline load: 5.4, 5.0, 4.9, 6.4
    Spatial carbon: 1: 540, 500, 320, 600; 2: 320, 510, 540, 600; 3: 560, 330, 520, 610; 4: 620, 560, 500, 330; 5: 330, 420, 550, 640
  Day 4 (Day 4 — Neighborhood watch enforces staggered use before the late-event recharge.)
    Tariff: 0.19, 0.24, 0.28, 0.22
    Carbon: 495, 470, 500, 535
    Baseline load: 5.0, 5.1, 5.0, 6.7
    Spatial carbon: 1: 320, 520, 560, 600; 2: 550, 330, 520, 580; 3: 600, 540, 500, 320; 4: 560, 500, 330, 540; 5: 500, 340, 560, 630
  Day 5 (Day 5 — Festival lighting brings high-carbon spikes after 22h.)
    Tariff: 0.23, 0.20, 0.27, 0.31
    Carbon: 500, 450, 505, 545
    Baseline load: 5.2, 5.3, 5.0, 6.6
    Spatial carbon: 1: 510, 330, 560, 600; 2: 560, 500, 320, 590; 3: 320, 520, 540, 620; 4: 630, 560, 510, 340; 5: 330, 420, 560, 630
  Day 6 (Day 6 — Maintenance advisory caps the valley transformer; slot 2 is rationed.)
    Tariff: 0.26, 0.22, 0.25, 0.29
    Carbon: 505, 460, 495, 540
    Baseline load: 5.5, 5.2, 4.8, 6.5
    Spatial carbon: 1: 540, 500, 320, 610; 2: 320, 510, 560, 620; 3: 560, 340, 520, 610; 4: 640, 560, 510, 330; 5: 520, 330, 540, 600
  Day 7 (Day 7 — Cool front eases late-night load but upstream carbon stays elevated.)
    Tariff: 0.21, 0.23, 0.28, 0.26
    Carbon: 495, 460, 500, 530
    Baseline load: 5.1, 4.9, 4.8, 6.3
    Spatial carbon: 1: 330, 520, 560, 610; 2: 540, 330, 520, 600; 3: 580, 540, 330, 620; 4: 630, 560, 500, 330; 5: 520, 330, 550, 600
Weights: α=40.00, β=0.50, γ=12.00

Your profile
------------
Persona: Position 4 retirees guarding comfort and grid warnings
Feeder location: 4
Base demand per slot: 0.90, 0.60, 0.70, 0.80
Preferred slots: 0, 3
Comfort penalty baseline: 0.16

Neighbour observations
----------------------
- Neighbor 3 → slot 3 (Central nurse dipped into slot 3 when lull hours opened)
- Neighbor 5 → slot 0 (Student picked slot 0 to avoid wasting the required slot)

Goal
----
Design Python heuristics that choose a slot for this agent on each of the next seven days to help minimise the global score:
    score(a) = α * max_t max(0, baseline[t] + EV_count[t] − capacity) + β * carbon_term(a)
while respecting the fact that you can only observe the neighbours listed above.

Output specification
--------------------
1. Load ``scenario.json`` using only paths visible from the agent directory.
2. Decide on a slot recommendation for this agent for each day that balances local comfort with global coordination.
3. Write ``global_policy_output.json`` containing a list of seven slot indices for this agent.
4. Save the executable script as ``policy.py`` so ``python policy.py`` recreates ``global_policy_output.json`` inside this folder.

Keep reasoning local
--------------------
• Do not assume knowledge of non-neighbour households.
• Explainable heuristics that can be combined with other agents will be favoured downstream.
• Your output will be compared against the globally optimal allocation for this agent.
• ``scenario.json`` is available at ``../../scenario.json`` relative to this directory—resolve it programmatically.
• Return only the Python source of ``policy.py``; omit explanations, markdown, or additional text.

