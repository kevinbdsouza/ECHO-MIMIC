Carbon-aware EV charging scenario: ev_peak_sharing_1

Storyworld summary:
Five households coordinate EV charging across four constrained slots with per-agent positions driving spatial carbon intensity and slot-level usage caps that force full coverage.

Shared parameters
-----------------
Slots (index → hour): 0: 19-20, 1: 20-21, 2: 21-22, 3: 22-23
Feeder capacity (kW equivalent): 6.8
Baseline non-EV load (kW): 5.2, 5.0, 4.9, 6.5
Retail tariff ($/kWh): 0.23, 0.24, 0.27, 0.30
Grid carbon intensity (gCO2/kWh): 700, 480, 500, 750
Minimum EV sessions per slot: 0: 1, 1: 1, 2: 1, 3: 1
Maximum EV sessions per slot: 0: 2, 1: 2, 2: 1, 3: 2
Spatial carbon gradient (location → gCO2/kWh): 1: 440, 460, 490, 604 | 2: 483, 431, 471, 600 | 3: 503, 473, 471, 577 | 4: 617, 549, 479, 363 | 5: 411, 376, 554, 623
Seven-day feeder outlook:
  Day 1 (Day 1 — Clear start to the week with feeders expecting full-slot coverage.)
    Tariff: 0.20, 0.25, 0.29, 0.32
    Carbon: 490, 470, 495, 540
    Baseline load: 5.3, 5.0, 4.8, 6.5
    Spatial carbon: 1: 330, 520, 560, 610; 2: 550, 340, 520, 600; 3: 590, 520, 340, 630; 4: 620, 560, 500, 330; 5: 360, 380, 560, 620
  Day 2 (Day 2 — Evening wind ramps mean slots 0 and 3 must balance transformer temps.)
    Tariff: 0.27, 0.22, 0.24, 0.31
    Carbon: 485, 460, 500, 545
    Baseline load: 5.1, 5.2, 4.9, 6.6
    Spatial carbon: 1: 510, 330, 550, 600; 2: 540, 500, 320, 610; 3: 310, 520, 550, 630; 4: 620, 540, 500, 340; 5: 320, 410, 560, 640
  Day 3 (Day 3 — Marine layer shifts low-carbon pocket to the early slots.)
    Tariff: 0.24, 0.21, 0.26, 0.30
    Carbon: 500, 455, 505, 550
    Baseline load: 5.4, 5.0, 4.9, 6.4
    Spatial carbon: 1: 540, 500, 320, 600; 2: 320, 510, 540, 600; 3: 560, 330, 520, 610; 4: 620, 560, 500, 330; 5: 330, 420, 550, 640
  Day 4 (Day 4 — Neighborhood watch enforces staggered use before the late-event recharge.)
    Tariff: 0.19, 0.24, 0.28, 0.22
    Carbon: 495, 470, 500, 535
    Baseline load: 5.0, 5.1, 5.0, 6.7
    Spatial carbon: 1: 320, 520, 560, 600; 2: 550, 330, 520, 580; 3: 600, 540, 500, 320; 4: 560, 500, 330, 540; 5: 500, 340, 560, 630
  Day 5 (Day 5 — Festival lighting brings high-carbon spikes after 22h.)
    Tariff: 0.23, 0.20, 0.27, 0.31
    Carbon: 500, 450, 505, 545
    Baseline load: 5.2, 5.3, 5.0, 6.6
    Spatial carbon: 1: 510, 330, 560, 600; 2: 560, 500, 320, 590; 3: 320, 520, 540, 620; 4: 630, 560, 510, 340; 5: 330, 420, 560, 630
  Day 6 (Day 6 — Maintenance advisory caps the valley transformer; slot 2 is rationed.)
    Tariff: 0.26, 0.22, 0.25, 0.29
    Carbon: 505, 460, 495, 540
    Baseline load: 5.5, 5.2, 4.8, 6.5
    Spatial carbon: 1: 540, 500, 320, 610; 2: 320, 510, 560, 620; 3: 560, 340, 520, 610; 4: 640, 560, 510, 330; 5: 520, 330, 540, 600
  Day 7 (Day 7 — Cool front eases late-night load but upstream carbon stays elevated.)
    Tariff: 0.21, 0.23, 0.28, 0.26
    Carbon: 495, 460, 500, 530
    Baseline load: 5.1, 4.9, 4.8, 6.3
    Spatial carbon: 1: 330, 520, 560, 610; 2: 540, 330, 520, 600; 3: 580, 540, 330, 620; 4: 630, 560, 500, 330; 5: 520, 330, 550, 600
Global weights α=40.00, β=0.50, γ=12.00

Agent roster (ordered along the feeder)
--------------------------------------
Agent 1 (Position 1 battery engineer balancing budget and solar backfeed)
  Base demand: [1.2, 0.7, 0.8, 0.6]
  Preferred slots: [0, 2]
  Comfort penalty: 0.18
  Neighbor ICL:
    - Example with neighbor 2: slot 1 (Analyst neighbor slid to slot 1 to satisfy the slot minima)
    - Example with neighbor 3: slot 2 (Central nurse anchored on slot 2 when slot 3 hit capacity)

Agent 2 (Position 2 feeder analyst prioritising transformer headroom)
  Base demand: [0.7, 1.0, 0.8, 0.5]
  Preferred slots: [1, 2]
  Comfort penalty: 0.14
  Neighbor ICL:
    - Example with neighbor 1: slot 0 (Battery neighbor grabbed slot 0 when slot 2 hit its max)
    - Example with neighbor 4: slot 3 (Position 4 retirees shifted to slot 3 when carbon spiked upstream)

Agent 3 (Position 3 night-shift nurse on the central ridge)
  Base demand: [0.6, 0.8, 0.9, 0.7]
  Preferred slots: [1, 3]
  Comfort penalty: 0.2
  Neighbor ICL:
    - Example with neighbor 2: slot 2 (Analyst stayed on slot 2 when feeder stress stayed low)
    - Example with neighbor 5: slot 1 (Student tenant mirrored the ridge plan to align with transit)

Agent 4 (Position 4 retirees guarding comfort and grid warnings)
  Base demand: [0.9, 0.6, 0.7, 0.8]
  Preferred slots: [0, 3]
  Comfort penalty: 0.16
  Neighbor ICL:
    - Example with neighbor 3: slot 3 (Central nurse dipped into slot 3 when lull hours opened)
    - Example with neighbor 5: slot 0 (Student picked slot 0 to avoid wasting the required slot)

Agent 5 (Position 5 graduate tenant commuting late from campus)
  Base demand: [0.5, 0.7, 0.6, 0.9]
  Preferred slots: [0, 1]
  Comfort penalty: 0.12
  Neighbor ICL:
    - Example with neighbor 4: slot 3 (Retirees stayed in slot 3 to watch overnight voltage)
    - Example with neighbor 1: slot 2 (Battery neighbor flexed to slot 2 when carbon dipped there)

Task framing
------------
• Each household charges exactly one normalized EV unit per day in a single slot.
• Neighboring context is communicated using short in-context exemplars.
• The pipeline provides the four-stage ECHO-MIMIC workflow for this energy domain.

